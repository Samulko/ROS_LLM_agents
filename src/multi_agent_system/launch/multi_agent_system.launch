<launch>
    <!-- Set environment variable for OpenAI API Key -->
    <param name="/openai_api_key" value="$(env OPENAI_API_KEY)" />

    <!-- Manager Agent Node -->
    <node name="manager_agent" pkg="manager_agent" type="manager_agent.py" output="screen" />

    <!-- Structural Engineer Agent Node -->
    <node name="structural_engineer_agent" pkg="structural_engineer_agent" type="structural_engineer_agent.py" output="screen" />

    <!-- Stability Agent Node -->
    <node name="stability_agent" pkg="stability_agent" type="stability_agent.py" output="screen" />

    <!-- Test Node (only run when testing) -->
    <node name="test_manager_agent" pkg="manager_agent" type="test_manager_agent.py" output="screen" if="$(arg run_tests)" />
</launch>
